{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home Assistant Theme Park Assistant","text":"<p>Custom component to help you navigate through theme parks and find the rides with the best times. This integration utilises data from https://themeparks.wiki/.</p>"},{"location":"#how-to-install","title":"How to install","text":"<p>There are multiple ways of installing the integration.</p>"},{"location":"#hacs","title":"HACS","text":"<p>While the integration isn't available in the HACS store yet, you can install it as a custom repository, providing the url <code>https://github.com/BottlecapDave/HomeAssistant-ThemeParkAssistant</code> and category of <code>integration</code>. Once installed, don't forget to restart your home assistant instance for the integration to be picked up.</p>"},{"location":"#manual","title":"Manual","text":"<p>You should take the latest published release. The current state of <code>develop</code> will be in flux and therefore possibly subject to change.</p> <p>To install, place the contents of <code>custom_components</code> into the <code>&lt;config directory&gt;/custom_components</code> folder of your Home Assistant installation. Once installed, don't forget to restart your home assistant instance for the integration to be picked up.</p>"},{"location":"#how-to-setup","title":"How to setup","text":"<p>Please follow the setup guide to setup your initial account. This will include a few sensors be default depending on your account.</p>"},{"location":"#entities","title":"Entities","text":"<p>The full list of entities that will be created once you've setup your account can be found in the entities section.</p>"},{"location":"#services","title":"Services","text":"<p>The full list of available services can be found here.</p>"},{"location":"#faq","title":"FAQ","text":"<p>Before raising anything, please read through the faq. If you have found a bug or have a feature request please raise it using the appropriate report template.</p>"},{"location":"#sponsorship","title":"Sponsorship","text":"<p>Please see the sponsorship page for more information.</p>"},{"location":"blueprints/","title":"Blueprints","text":"<p>Blueprints are an excellent way to get you up and running with the integration quickly. They can also be used as a guide for setting up new automations which you can tailor to your needs. </p>"},{"location":"blueprints/#rates","title":"Rates","text":""},{"location":"blueprints/#alert-when-recommended-attraction-or-show-updates","title":"Alert when recommended attraction or show updates","text":"<p>Install blueprint | Source</p> <p>This blueprint will run every time the recommended attraction of show updates and has been designed to be added in conjunction with actionable notifications via the HA mobile app. Below is an example of how this could be setup</p> <pre><code>- id: 7f8f50d5-788c-484e-9e84-157edb1e9253\n  alias: Theme Park Assistant - Recommended Attraction Updated\n  use_blueprint:\n    path: BottlecapDave/theme_park_assistant_attraction_updated.yaml\n    input:\n      todo_list: todo.remaining_attractions_disney_california_adventure_park\n      actions:\n      - service: notify.mobile_app_my_phone\n        data:\n          message: '{{ message }}'\n          data:\n            actions:\n            - action: '{{ action_complete }}'\n              title: Remove\n            - action: '{{ action_ignore }}'\n              title: Ignore\n</code></pre> <p></p>"},{"location":"entities/","title":"Entities","text":"<p>The following entities are available when setting up your account.</p>"},{"location":"entities/#next-recommended-attraction-minutes","title":"Next Recommended Attraction Minutes","text":"<p><code>sensor.next_recommended_attraction_minutes_{{PARK_NAME}}</code></p> <p>This sensor will present the minutes for the queue of the next recommended attraction. This will be the attraction in your Recommended Attractions that have the lowest available stand by wait time.</p> <p>Note</p> <p>This will update every 5 minutes</p> Attribute Name type Note <code>attraction_id</code> <code>string</code> The id of the attraction that is recommended"},{"location":"entities/#next-recommended-attraction","title":"Next Recommended Attraction","text":"<p><code>sensor.next_recommended_attraction_{{PARK_NAME}}</code></p> <p>This sensor will present the name of the next recommended attraction. This will be the attraction in your Recommended Attractions that have the lowest available stand by wait time.</p> <p>Note</p> <p>This will update every 5 minutes</p> Attribute Name type Note <code>attraction_id</code> <code>string</code> The id of the attraction that is recommended"},{"location":"entities/#next-recommended-show-minutes","title":"Next Recommended Show Minutes","text":"<p><code>sensor.next_recommended_show_minutes_{{PARK_NAME}}</code></p> <p>This sensor will present the minutes for the queue of the next recommended show. This will be the show in your Recommended Attractions that has the shortest time to the next show time.</p> <p>Note</p> <p>This will update every 5 minutes</p> Attribute Name type Note <code>attraction_id</code> <code>string</code> The id of the show that is recommended"},{"location":"entities/#next-recommended-show","title":"Next Recommended Show","text":"<p><code>sensor.next_recommended_show_{{PARK_NAME}}</code></p> <p>This sensor will present the name of the next recommended show. This will be the show in your Recommended Attractions that has the shortest time to the next show time.</p> <p>Note</p> <p>This will update every 5 minutes</p> Attribute Name type Note <code>attraction_id</code> <code>string</code> The id of the show that is recommended"},{"location":"entities/#recommended-attractions","title":"Recommended Attractions","text":"<p><code>todo.remaining_attractions_{{PARK_NAME}}</code></p> <p>This sensor will present the todo list of remaining attractions that will be used when calculating the next recommended attractions/shows. You should use the reset service to populate this list.</p>"},{"location":"entities/#theme-park-times","title":"Theme Park Times","text":"<p><code>event.theme_park_times_{{PARK_NAME}}</code></p> <p>This event will display the timestamp of when the Theme Park Times were last updated.</p>"},{"location":"events/","title":"Events","text":"<p>The following events are raised by the integration. These events power various entities and can also be used within automations.</p>"},{"location":"events/#remaining-attractions-updated","title":"Remaining Attractions Updated","text":"<p><code>theme_park_assistant_remaining_attractions_updated</code></p> <p>This is fired when the remaining attractions todo list is updated.</p> Attribute Type Description <code>theme_park_id</code> <code>string</code> The id of the theme park the event is for <code>remaining_attractions</code> <code>array</code> The collection of remaining attractions <p>For each attraction, the following attributes are available</p> Attribute Type Description <code>id</code> <code>string</code> The id of the attraction <code>name</code> <code>string</code> The name of the attraction"},{"location":"events/#theme-park-times-updated","title":"Theme Park Times Updated","text":"<p><code>theme_park_assistant_theme_park_times_updated</code></p> <p>This is fired when the theme park times are updated. This aims to fire every 5 minutes.</p> Attribute Type Description <code>theme_park_id</code> <code>string</code> The id of the theme park the event is for <code>times</code> <code>array</code> The collection of attractions and their times <p>For each attraction, the following attributes are available</p> Attribute Type Description <code>id</code> <code>string</code> The id of the attraction <code>name</code> <code>string</code> The name of the attraction <code>entity_type</code> <code>string</code> The type of attraction <code>status</code> <code>string</code> The current status of the attraction <code>show_times</code> <code>array</code> The collection of show times for the attraction. This will only be populated for <code>entity_type</code> of value <code>SHOW</code> <code>stand_by_wait_time_in_minutes</code> <code>integer</code> The number of minutes for the stand by queue. This will only be populated for <code>entity_type</code> of value <code>ATTRACTION</code> <code>single_rider_wait_time_in_minutes</code> <code>integer</code> The number of minutes for the single rider. This will only be populated for <code>entity_type</code> of value <code>ATTRACTION</code> <code>last_updated</code> <code>datetime</code> The datetime the times were last updated <p>For each show time, the following attribute are available</p> Attribute Type Description <code>start_time</code> <code>datetime</code> The start time of the show <code>end_time</code> <code>datetime</code> The end time of the show"},{"location":"events/#new-recommended-attractionshow","title":"New Recommended Attraction/Show","text":"<p><code>theme_park_assistant_new_recommended_attraction</code></p> <p>This is fired when a new recommended attraction or show is selected.</p> Attribute Type Description <code>theme_park_id</code> <code>string</code> The id of the theme park the event is for <code>attraction_id</code> <code>string</code> The id of the recommended attraction <code>attraction_name</code> <code>string</code> The name of the recommended attraction <code>is_show</code> <code>boolean</code> Determines if the recommended attraction is a show <code>minutes</code> <code>integer</code> The number of minutes for the recommended attraction"},{"location":"faq/","title":"FAQ","text":""},{"location":"faq/#how-do-i-take-full-advantage-of-this-integration","title":"How do I take full advantage of this integration?","text":"<p>Once you've setup your target theme park, there are a few main components.</p> <ol> <li>The recommended attractions todo list, which keeps track of all the attractions you want to ride. This is a standard todo list which can be managed in the normal way.</li> <li>The reset recommended attractions service which populates the above todo list for the target theme park. Be sure to add the attractions you don't want to include in your visit.</li> <li>The alert blueprint, which will alert you what ride/show to go to next and give you the option to remove the attraction so you can be recommended on the next attraction.</li> <li>The clear recommended attractions service, which clears all attractions from the todo list and will effectively stop your alerts.</li> </ol>"},{"location":"faq/#i-want-to-see-the-times-in-my-dashboard-for-a-given-theme-park-how-do-i-do-this","title":"I want to see the times in my dashboard for a given theme park. How do I do this?","text":"<p>You can take advantage of the markdown card, and include the following logic</p> <pre><code>| Name | Stand By Minutes |\n|------|------------------|\n{% set attractions = state_attr('event.theme_park_times_disney_california_adventure_park', 'times') %}{% if attractions != None %}{% set attractions = (attractions | rejectattr('stand_by_wait_time_in_minutes','eq',None) |  sort(attribute='stand_by_wait_time_in_minutes') | list) %}{% for attraction in attractions %}{% if attraction.entity_type == \"ATTRACTION\" %}| {{ attraction.name }} | {{ attraction.stand_by_wait_time_in_minutes }} |\n{% endif %}{% endfor %}{%endif%}\n</code></pre> <p>This will produce the following style</p> <p></p> <p>Be sure to update the target entity for your park.</p>"},{"location":"faq/#how-do-i-increase-the-logs-for-the-integration","title":"How do I increase the logs for the integration?","text":"<p>If you are having issues, it would be helpful to include Home Assistant logs as part of any raised issue. This can be done by following the instructions outlined by Home Assistant.</p> <p>You should run these logs for about a day and then include the contents in the issue. Please be sure to remove any personal identifiable information from the logs before including them.</p>"},{"location":"services/","title":"Services","text":""},{"location":"services/#reset_remaining_attractions","title":"reset_remaining_attractions","text":"<p>Resets the remaining attractions list with all attractions for the associated park.</p> Attribute Optional Description <code>target.entity_id</code> <code>no</code> The name of the sensor to reset <code>data.ignored_attraction_ids</code> <code>yes</code> The list of attraction ids that you don't want being added to the todo list"},{"location":"services/#automation-example","title":"Automation Example","text":"<p>Below is an example of resetting the remaining attractions todo list every day at 08:00.</p> <p>Info</p> <p>This is probably not how this service should be used, but is for demonstration purposes only</p> <pre><code>automations:\n  - id: 2446efb1-730a-4447-a7b9-add5f778a334\n    alias: Theme Park Assistant - Reset Disney California Adventure\n    trigger:\n    - platform: time\n      at: '08:00:00'\n    condition: []\n    action:\n    - service: theme_park_assistant.reset_remaining_attractions\n      data: {}\n      target:\n        entity_id:\n          - todo.remaining_attractions_disney_california_adventure_park\n</code></pre>"},{"location":"services/#clear_remaining_attractions","title":"clear_remaining_attractions","text":"<p>Clears all attractions from the todo list.</p> Attribute Optional Description <code>target.entity_id</code> <code>no</code> The name of the sensor to clear"},{"location":"services/#automation-example_1","title":"Automation Example","text":"<p>Below is an example of resetting the remaining attractions todo list every day at 00:01.</p> <pre><code>automations:\n  - id: 2446efb1-730a-4447-a7b9-add5f778a334\n    alias: Theme Park Assistant - Clear Disney California Adventure\n    trigger:\n    - platform: time\n      at: '00:01:00'\n    condition: []\n    action:\n    - service: theme_park_assistant.clear_remaining_attractions\n      data: {}\n      target:\n        entity_id:\n          - todo.remaining_attractions_disney_california_adventure_park\n</code></pre>"},{"location":"setup/","title":"Setup","text":"<p>Setup is done entirely via the integration UI.</p> <p>You can do this for as many theme parks as you would like.</p>"},{"location":"setup/#theme-park","title":"Theme Park","text":"<p>The theme park you wish to monitor the times for a find the ride with best time.</p>"},{"location":"setup/#entities","title":"Entities","text":"<p>The full list of entities can be found in the entities section.</p>"},{"location":"sponsorship/","title":"Sponsorship","text":"<p>If you are enjoying the integration, why not if possible, make a one off or monthly GitHub sponsorship.</p>"}]}